# "Interpretation Rules.txt"

# Автоматическая интерпретация видеоряда Adobe After Effects

# разрешено использование пустых строк; строки, начинающиеся с «#», являются комментариями

# базовый формат строгого правила: {соответствие требованиям} = {задать интерпретацию}
# базовый формат нестрогого правила: {соответствие требованиям} ~ {задать интерпретацию}

# + для каждого соответствующего правила задается интерпретация; разрешено использование подстановочных знаков (»*»)
#\тонировать обе стороны; сопоставление по подстановочным знакам сопоставляет со всеми значениями; установка с помощью подстановочных знаков не задает значений
# + разрешено сопоставление по нескольким правилам, более поздние совпадения переопределяют более ранние
# + все правила проверяются по порядку, по одному правилу на строку
# + правила применяются после пропорций пикселя, данных альфа-канала и метки поля
#	чтение данных выполняется из формата

# + нестрогие правила не переопределяют значения, явно заданные файлом
#	файла, задается предыдущими правилами

# ширина, высота, кадровая частота, тип файла, кодек =
#	пропорции пикселя/имя, порядок полей, согласованная кадровая частота, интерпретация альфа-канала, код профиля ICC
#	или описанием профиля (тем или иным), описанием профиля

# значения ширины и высоты являются целыми числами
# значения кадровой частоты являются десятичными числами
# тип файлов выражается четырьмя символами, заключенными в кавычки (FourCC)
# кодек (применимо только для QT и AVI) также представляет собой значение FourCC

# чтобы выяснить значения FourCC типа файла и/или кодека для конкретного типа материала,
#	щелкните мышью, удерживая нажатой клавишу OPT (Mac), или щелкните мышью, удерживая нажатой клавишу ALT (Windows), на видеоряде в окне проекта;
#	коды FourCC отображаются в последней строки текста рядом с эскизом

# пропорции пикселя выражаются в целых числах (например, 10/11),
#	после которой может быть указано имя этой пропорции (например, 10/11/»Моя пропорция»)
# В After Effects CS4 (v9) изменены пропорции пикселя для нескольких универсальных форматов:
#	D1/DV NTSC от 648/720 (0,9) до 10.0/11.0 (прим. 0,9091)
#	D1/DV NTSC, широкоэкранный, от 6/5 (1,2) до 40/33 (прим. 1,2121)
#	D1/DV PAL от 768/720 (1,07) до 768/702 (прим. 1,0940)
#	D1/DV PAL, широкоэкранный, от 64/45 (1,42) до 1024,0/702,0 (прим. 1,4587)

# порядок полей выражен одним символом, (F=кадр, U=верхнее поле или L=нижнее поле)
# согласованная кадровая частота выражается десятичным числом
# интерполяция альфа-канала: (I=игнорировать, S=прямая, P=умнож. в обратном порядке/черный, W=умнож. в обратном порядке/белый)
#	интерп. альфа-канала игнорируется для видеорядов, не содержащих альфа-каналы

# профиль ICC задан кодом профиля, который выражен значением FourCC, или
#	линейного света, представляющим собой строку, заключенную в кавычки, содержащую не более 255 символов (включая кавычки)

# Поддерживаются следующие коды профиля:
#	- профиль рабочего пространства: «wRGB»
#	- встроенный профиль: «embe»
#	- сохранить цветовое пространство RGB: «pRGB» (действие этой команды идентично действию, выполняемому при установке флажка «Сохранить цветовое пространство RGB» в диалоговом окне «Интерпретация видеоряда»)
#	- sRGB: «sRGB»
#	- Цветовое пространство Adobe RGB: «AS98»
#	- профиль пленки Kodak 5218: «ginp»
#	- SDTV NTSC: «r6nf» (первичные выражения SMPTE RP 145 и ITU-R Rec. 709 TRCs. Черный кодируется как 0, белый - как 1.)
#	- SDTV NTSC 16-235: «r6ns» (первичные выражения SMPTE RP 145 и ITU-R Rec. 709 TRCs. Черный кодируется как 16/255, белый - как 235/255.)
#	- SDTV PAL: «r6pf» (первичные выражения EBU Tech. 3213 и ITU-R Rec. 709 TRCs. Черный кодируется как 0, белый - как 1).
#	- SDTV PAL 16-235: «r6ps» (первичные выражения EBU Tech. 3213 и ITU-R Rec. 709 TRCs. Черный кодируется как 16/255, белый - как 235/255).
#	- HDTV (Rec. 709): «r7hf» (первичные выражения ITU-R Rec. 709 и TRCs. Черный кодируется как 0, белый - как 1).
#	- HDTV (Rec. 709) 16-235: «r7hs» (первичные выражения ITU-R Rec. 709 и TRCs. Черный кодируется как 16/255, белый - как 235/255).

# Описание профиля можно просмотреть в пользовательском интерфейсе (эскизы в окне проекта), в
# интерфейсе утилиты управления цветами (например, ColorSync) или определяется пользователем при создании настраиваемого профиля

# значение линейного света выражено целым числом (0=выкл., 1=вкл., 2=вкл. для видеоряда 32 бит/канал)

# нестрогое правило; предполагается, что ATSC 704x480 в любом формате представляет собой пропорцию D1
704, 480, 29.97, *, * ~ 10/11, *, *, *, *, *

# правила NTSC
# нестрогое правило; предполагается, что форматы 720x480 29,97 кадр/с являются форматами DV NTSC (более низкое качество, пропорция NTSC D1/DV)
# нестрогое правило; предполагается, что форматы 720x480 с любой частотой кадров имеет пропорции пикселя NTSC DV/D1
# нестрогое правило; предполагается, что форматы 720x486 с любой частотой кадров имеет пропорции пикселя NTSC DV/D1
# нестрогое правило; предполагается, что собственные форматы Mediacore 720x480 и 720x486 являются форматами SDTV NTSC
# нестрогое правило; предполагается, что файлы 720x480 DVCPro50 имеют формат SDTV NTSC
720, 480, 29.97, *, * ~ 10/11, L, *, *, *, *
720, 480, *, *, * ~ 10/11, *, *, *, *, *
720, 486, *, *, * ~ 10/11, *, *, *, *, *
720, 480, *, *, "dvc " ~ *, *, *, *, "r6nf", *
720, 486, *, *, "v210" ~ *, *, *, *, "r6nf", *
720, 486, *, *, "UYVY" ~ *, *, *, *, "r6nf", *
720, 486, *, *, "2vuy" ~ *, *, *, *, "r6nf", *
720, 480, *, *, "dv5n" ~ *, *, *, *, "r6nf", *

# Правила PAL
# нестрогое правило; предполагается, что форматы 720x576 25 кадр/с являются форматами DV PAL (более низкое качество, пропорция PAL D1/DV)
# нестрогое правило; предполагается, что форматы 720x576 с любой частотой кадров имеет пропорции пикселя PAL DV/D1 
# нестрогое правило; предполагается, что все собственные форматы Mediacore 720x576 являются форматами SDTV PAL
# нестрогое правило; предполагается, что файлы 720x576 DVCPro50 имеют формата SDTV PAL
720, 576, 25, *, * ~ 768/702, L, *, *, *, *
720, 576, *, *, * ~ 768/702, *, *, *, *, *
720, 576, *, *, "dvcp" ~ *, *, *, *, "r6pf", *
720, 576, *, *, "v210" ~ *, *, *, *, "r6pf", *
720, 576, *, *, "UYVY" ~ *, *, *, *, "r6pf", *
720, 576, *, *, "2vuy" ~ *, *, *, *, "r6pf", *
720, 576, *, *, "dv5p" ~ *, *, *, *, "r6pf", *

# правила D16/D4
# нестрогие правила; предполагается, что форматы 2880x2048, 1440x1024 с любой частотой кадров имеют пропорции пикселя D16/D4
# удалено в версии 7.0 -- удалить комментарии, чтобы активировать повторно
# 2880, 2048, *, *, * ~ 128/135, *, *, *, *, *
# 1440, 1024, *, *, * ~ 128/135, *, *, *, *, *

# правила HD / HDV
# нестрогое правило; Panasonic Varicam имеет формат 960x720
# нестрогое правило; Sony HDV имеет формат 1440x1080, верхнее поле - первое
# нестрогое правило; предполагается, что собственные форматы Mediacore HD являются форматами HDTV полной развертки
960, 720, *, *, * ~ 1280/960/"HDV", *, *, *, *, *
1440, 1080, 25, *, * ~ 1280/960/"HDV", U, *, *, *, *
1440, 1080, 29.97, *, * ~ 1280/960/"HDV", U, *, *, *, *
1280, 720, *, *, "v210" ~ *, *, *, *, "r7hf", *
1280, 720, *, *, "UYVY" ~ *, *, *, *, "r7hf", *
1280, 720, *, *, "2vuy" ~ *, *, *, *, "r7hf", *
1920, 1080, *, *, "v210" ~ *, *, *, *, "r7hf", *
1920, 1080, *, *, "UYVY" ~ *, *, *, *, "r7hf", *
1920, 1080, *, *, "2vuy" ~ *, *, *, *, "r7hf", *

# нестрогое правило; предполагается, что форматы HDV являются форматами HDTV полной развертки
*, *, *, *, "hdv1" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv2" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv3" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv4" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv5" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv6" ~ *, *, *, *, "r7hf", *
*, *, *, *, "hdv7" ~ *, *, *, *, "r7hf", *

# предполагается, что пропорция NTSC DV является пропорцией D1, нижнее поле
# <устаревшие правила -- переопределяются нестрогими правилами выше>
# 720, 480, 29.97, "MooV", "dvc " = 10/11, L, *, *, *, *
# 720, 480, 29.97, "MooV", "dvpn" = 10/11, L, *, *, *, *
# 720, 480, 29.97, ".AVI", "dvsd" = 10/11, L, *, *, *, *

# нестрогое правило: связывать файлы Cineon с профилем Kodak 5218
# удалите следующий комментарий, чтобы активировать
# *, *, *, "sDPX", * ~ *, *, *, *, "ginp", *

# нестрогое правило: связывать все существующие файлы Cineon с профилем Working RGB
*, *, *, "sDPX", * ~ *, *, *, *, "wRGB", *

# правило, позволяющее создавать файлы в формате Raw как Rec709,
# содержащие 32-битные данные с плавающей точкой с гамма-кодированием
*, *, *, "R3D ", * ~ *, *, *, *, "r7hf", 0

# данное нестрогое правило должно быть последним в списке нестрогих правил
# нестрогое правило: связывать все несвязанные видеоряды с профилем sRGB
*, *, *, *, * ~ *, *, *, *, "sRGB", *

# специализированные правила для отдельного оборудования и форматов

# Медиаданные 100 640 x 480 имеют формат пикселя широкоформатного кадра, верхнее поле — первое
640, 480, 29.97, "MooV", "dtmt" = 1/1, U, *, *, *, *

# Медиаданные 100 Finish 720 x 486 имеют пропорции пикселя D1, нижнее поле — первое
720, 486, 29.97, "MooV", "dtNT" = 10/11, L, *, *, *, *

# предполагается, что формат Matrox DigiSuite имеет пропорции пикселя D1, нижнее поле — первое
720, 486, 29.97, ".AVI", "MJPG" = 10/11, L, *, *, *, *

# предполагается, что формат Pinnacle Targa 3000 YUV имеет пропорции пикселя D1, нижнее поле — первое
720, 486, 29.97, ".AVI", "UYVY" = 10/11, L, *, *, *, *

# Медиаданные 100 Mac 720 x 486 имеют метку поля Media 100 и
# могут быть верхним или нижним полем в зависимости от оборудования, однако,
# необходимо удалить комментарий из следующей строки, чтобы принудительно использовать пропорцию D1, нижнее поле - первое
# 720, 486, 29.97, "MooV", "dtmt" = 10/11, L, *, *, *, *

# Данные Avid 640x480 имеют формат пикселя широкоформатного кадра, верхнее поле — первое
640, 480, *, "MooV", "avr " = 1/1, U, *, *, *, *

# Данные Avid Meridien Codec NTSC имеют формат, где нижнее поле - первое
720, 486, 29.97, *, "AVDJ" = 10/11, L, *, *, *, *
720, 486, 29.97, *, "AVUI" = 10/11, L, *, *, *, *

# Формат Electric Image выполняет запись в файлы с прямым альфа-каналом 
*, *, *, "EID2", * = *, *, *, S, *, *

# Для OpenEXR по соглашению выполняется умножение в обратном порядке
*, *, *, "oEXR", * ~ *, *, *, P, *, *

# добавляет только настраиваемые пропорции пикселя во всплывающее меню диалоговых окон «Настройки композиции» и «Интерпретация видеоряда»
# -- удалите комментарий в следующей строке, чтобы использовать эту функцию.
# 0, 0, 0, "0000", * = 10/11/"Custom Aspect", *, *, *, *, *
